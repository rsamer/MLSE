language: python

python:
  - "2.7"

before_install:
  - wget http://repo.continuum.io/miniconda/Miniconda-latest-Linux-x86_64.sh -O miniconda.sh
  - chmod +x miniconda.sh
  - bash miniconda.sh -b -p /home/travis/miniconda
  - export PATH=/home/travis/miniconda/bin:$PATH
  - ls -li
  - conda update --yes conda
  # The next couple lines fix a crash with multiprocessing on Travis and are not specific to using Miniconda
  #- sudo rm -rf /dev/shm
  #- sudo ln -s /run/shm /dev/shm

install:
  - conda install --yes atlas numpy scipy matplotlib #nose dateutil pandas statsmodels
  #- conda install --yes -c dan_blanchard python-coveralls nose-cov
  - python setup.py install
#  - sudo apt-get install python-minimal
#  - sudo apt-get install python-pip
#  - sudo apt-get install libfreetype6-dev libpng-dev
#  - sudo apt-get install python-dev
#  - sudo apt-get install python-matplotlib
  - sudo apt-get install python-numpy python-scipy python-matplotlib ipython ipython-notebook python-pandas python-sympy python-nose
#  - pip install numpy
  - pip install nltk
#  - pip install matplotlib
#  - pip install scipy
  - pip install -U scikit-learn
  - pip install beautifulsoup4

before_script:
  - cd src
  - python --version
  - uname -a
  - ls -li .

script: python -m main ../data/example

# Notify the mailing list
notifications:
  email:
    on_success: change
    on_failure: always
